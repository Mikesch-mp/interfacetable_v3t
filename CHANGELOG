# ========================================================================
# CHANGELOG
# ========================================================================
#
#   ----------------------------------------------------------------------
# * 0.03-1 (in progress)
#   ----------------------------------------------------------------------
#    - add/enhancement: interface coming from 'empty' operstatus to another operstatus 
#      does not trigger an alert of operstatus change (ex: newly added interface)
#    - add/enhancement: better Cisco ASA nodes support, with an ifdescr preformating
#    - bugfix: remove single quote from perfdata names and url to pnp
#    - bugfix: fixed major bug - config option -wp and -cp now honored (Birger Schmidt)
#    - add/enhancement: negative value for err/disc pkt tracking disable the 
#      specific tracking. Ex: --warning 50,0,-1 --critical 80,100,-1 disable discard
#      packet tracking
#
#   ----------------------------------------------------------------------
# * 0.03
#   ----------------------------------------------------------------------
#    - add: link to node selector
#    - bugfix: bad path in log message for missing css file (Birger Schmidt)
#    - add/enhancement: reinsert alias matching on in-/exclude regexmatching (Birger Schmidt)
#    - add/enhancement: changes to support netways grapher v1 (nagiosgrapher) again
#    - add: new alternate css, more adapted to multiple properties tracking. Also to give
#      an example of custom css.
#    - bugfix: blanks removed from property comparaison only from current value (from 
#      bugfix release 0.02-4)
#
#   ----------------------------------------------------------------------
# * 0.03b3
#   ----------------------------------------------------------------------
#    - bugfix: added missing ifoperstatus possible values (reported by Michael Gumbinger)
#    - enhancement: extended the non-tracking of ifoperstatusr: now from "xxx" to "up"
#    - change: pkt err thresholds now high by default
#    - change: one digit precision for pkt err rates
#    - add/enhancement: full use of perl's netsnmp and avoid use of Unix snmp 
#      utils. Need more testing in real environment, so still EXPERIMENTAL.
#    - add: plugin version on html page
#    - change: now 3 levels of inclusion/exclusion and a new traffic 
#      tracking logic: 
#       * global
#          + globally include/exclude interfaces to be monitored
#          + excluded interfaces are represented by black overlayed rows in the  
#            interface table 
#       * traffic tracking
#          + include/exclude interfaces for which the load and the packet 
#            errors/discards will be tracked
#          + excluded interfaces are represented by a dark grey (css dependent) 
#            cell style in the interface table
#       * property tracking
#          + include/exclude interfaces for which the property changes will be 
#            tracked
#          + excluded interfaces are represented by a dark grey (css dependent) 
#            cell style in the interface table
#    - change: option perfdatashort moved to perfdataformat which permit 
#      to choose the perfdata types to return
#       * full (default) : generated performance data include plugin related stats, 
#                          interface status, interface load stats, and packet error 
#                          stats 
#       * loadonly       : generated performance data include plugin related stats, 
#                          interface status, and interface load stats 
#       * globalonly     : generated performance data include only plugin related 
#                          stats
#      'loadonly' should be used in case of too many interfaces and consequently 
#      too much performance data which cannot fit in the nagios plugin output buffer. 
#      By default, its size is 8k and can be extended by modifying 
#      MAX_PLUGIN_OUTPUT_LENGTH in the nagios sources (icinga.h/nagios/h).
#    - enhancement: detect incoherent load > if speed (in case of node restart, 
#      switch from v1 to v2c,...) and avoid bad performance data
#
#   ----------------------------------------------------------------------
# * 0.03b2
#   ----------------------------------------------------------------------
#    - bugfix: fixed badly-used options warning/critical
#    - enhancement: added checks of undefined variables
#    - enhancement: reviewed debug/verbose mode to be clearer and better 
#      understandable
#    - enhancement: SnmpUtils.pm now more robust and verbose in case of problem
#    - bugfix: port option (-P) now working
#    - bugfix: fixed some snmpv3 authentication problems 
#    - feature: config file. Using the --config option, a config file can be 
#      loaded. (really useful? lets see...)
#    - bugfix: now "noSuchObject" response is handled correctly for all snmp 
#      versions. By default, v1 always returns an empty string, and v2c/v3 return 
#      "noSuchObject". Now all the modes translate noSuchObject to an empty string,
#      and some extra debug info in case of v2c/v3
#    - feature: new property tracked ifDuplexStatus, which is the operation mode 
#      of the interface (duplex mode) (kudos Oliver Windt for the idea) 
#    - enhancement/bugfix: reviewed the way config::general is used to be more
#      robust and compatible with last versions of the module
#
#   ----------------------------------------------------------------------
# * 0.03b1
#   ----------------------------------------------------------------------
#    - feature: all styles are now handled in an external css stylesheet. 
#      3 stylesheets currently available: 
#       * classic.css: follow the style of previous versions of the plugin
#       * icinga.css: follow the style of the icinga classic ui
#       * nagiosxi.css: follow the style of the nagiosxi ui
#    - change: moved javascript to external file & reviewed to not generate conflicts 
#      with styles defined in css stylesheets
#    - feature: new interface inclusion/exclusion system distinguing properties and 
#      traffic load:
#       * include/exclude interface from load tracking. Load tracking consists 
#         in a check of the bandwidth usage of the interface. By default, all 
#         the interfaces are included in this tracking. Excluding an interface 
#         from that tracking is usually done for interfaces that we don't want 
#         any tracking (e.g. loopback interfaces)
#       * include/exclude interface from property tracking. Property tracking 
#         consists in the check of any changes in the properties of an interface, 
#         properties listed via the --track option. By default, only the 
#         "operstatus" property is tracked. You have the ability to exclude/include 
#         some interfaces from that check. This would be done for exemple for 
#         ports on which printers are connected (indeed, some printers going in 
#         standby mode has also their network interface going done, generating 
#         an non-wanted alert)
#    - feature: new "Action" column, which currently contains a graph icon link, replacement 
#      of the "link on row" in previous versions of the plugin. This field allows 
#      other actions to be added in future.
#    - feature: installer (./configure; make; makeinstall...) for an easier install. It 
#      includes:
#       * the check of all required softwares / perl libraries.
#       * automatic sudo and apache/httpd configuration
#    - change: extracted snmp related and more general functions from the scripts and 
#      created libraries of functions, for better maintenance and to be used in 
#      other future plugins
#    - change: commonly used options are now default.
#    - change: detailed output and performance data (if enabled) are now default (use 
#      of outputshort/perfdatashort options to reduce them).
#    - feature: error/discard packets:
#      * checked against thresholds (rates)
#      * presented via a specific column in the interface table. Cell background color 
#        changes in case of warning/critical state
#    - change: new format for warning & critical commandline options for more simplicity: 
#      --warning/--critical <load%>,<pkterr/s>,<pktdiscard/s>
#       1. unique threshold for in/out statistics (ex: loadin/loadout)
#       2. one option for all traffic checks (load, pkt errors, pkt discards) to avoid 
#          too many options
#      ex: --warning 50,0,0 --critical 80,100,100
#    - enhancement: colorcode function standardized for other use (not only for load statistics)
#    - change: some options renamed, but will certainly change again
#    - enhancement: check and remove the % character if any in some commandline arguments
#    - feature: snmp v2c & v3 support
#    - feature: 64bit counters support (octets in/out & speed) for interfaces >=10Gbps
#    - bugfix: colorcode rewritten for correctly handle colors between a warning and a 
#      critical threshold
#    - feature: testing install option
#
#   ----------------------------------------------------------------------
# * 0.02-3 (bugfix release)
#   ----------------------------------------------------------------------
#    - bugfix: exclude/include options now behave correctly on plugin 
#      output, not only on html file and performance data
#
#   ----------------------------------------------------------------------
# * 0.02-2 (bugfix release)
#   ----------------------------------------------------------------------
#    - bugfix: fixed problem with the grapher options
#    - bugfix: the "excludeportperf/includeportperf" options now work
#
#   ----------------------------------------------------------------------
# * 0.02-1 (bugfix release)
#   ----------------------------------------------------------------------
#    - bugfix: fixed redondant short options
#    - bugfix: forcing conversion of oper/admin status from integer to string
#    - bugfix: fixed a variable substitution in interface evaluation
# 
#   ----------------------------------------------------------------------
# * 0.02
#   ----------------------------------------------------------------------
#    - enhancement: cleaner and step-by-step output when resetting stats
#    - feature: finished option 'track', replacement of nochange, which 
#      list the field concerned by tracking. Default: only ifOperStatus.
#    - enhancement: replaced column name/field notations from csv style to 
#      arrays
#    - enhancement: clearly referenced html tables in variable names for 
#      better maintenance
#    - bugfix: some typo fixes
#    - bugfix: readded 'human' option (previously missed)
#    - bugfix: some 'variable not defined' problems
#    - feature: added operstatus as performance data for interface status tracking
#    - enhancement: don't alert for interfaces OperStatus going to "up"
#    - bugfix: vlan column moved to the correct place
#    - bugfix: avoid global perfdata to be returned in case of initial
#      run or no history, as the perfdata are wrong and produce drops on 
#      graphs
#    - enhancement: rewrite the plugin to follow the nagios plugin development 
#      guidelines:
# 	   * use of "use warnings"
#         => multiple reviews and finally done
#    - enhancement: added excludeportperf and includeportperf, allowing 
#      to filter which tracked interfaces generates performance data
#    - bugfix: port performance data now depend on what data are 
#      available. ex: unrouted vlans doesn't have ifOctetIn statistics on catalyst
#    - enhancement: last traffic calculation a bit cleaned and commented for
#      better maintenance
#    - bugfix: corrected and completed physical interface pattern matching in
#      check_for_unused_interfaces
#    - bugfix: readded 'regexp' option (previously missed)
#    - bugfix: cachedir/statedir naming including hostquery
#    - bugfix: never ignore case in options
#    - enhancement: reviewed the way the ports are counted. based on the 
#      speed property availability, this seems to permit a correct counting 
#      for most of the possible nodes (cisco, windows, linux, ...)
#    - feature: option "cisco" for specific cisco info requests and printing
#    - bugfix: fixed some options no properly interpreted
#    - bugfix: now checking the IP info <-> interface mapping  
#    - feature: 2 new output cases, reflecting the leak of data for 
#      calculation. For initial run and for no valid historical dataset
#    - feature: operstatus in pnp4nagios port templates, for easier  
#      interface status tracking.
#    - enhancement: normal plugin output includes now load thresholds
#    - feature: --grapher and --grapherurl options to specify which grapher
#      solution is used. And alternative url can be specified. 
#    - feature: --short or --long options for less or more detailed plugin 
#      outputs. Using --long allow to clearly identify problematic interfaces
#      directly in the output of the plugin
#    - enhancement: some options can now be specified multiple times and are
#      concatenated. Exemple: --exclude 'pat1' --exclude 'pat2,pat3'. 
#      Concerned options: track, exclude, include, excludeportperf, 
#      includeportperf
#    - feature: added an option to print the default values of the options
#    - enhancement: updated the pod doc and moved to end for better reading.
#    - enhancement: data::dumper sorting
#    - enhancement: removed man option (prefered perldoc reading)
#    - enhancement: reviewed the way the operstatus is presented for 
#      $display_operstatus = 1 (separate graph for operstatus)
#   ----------------------------------------------------------------------
# * 0.01
#   ----------------------------------------------------------------------
# 	 - enhancement: better pnp4nagios integration
# 	 - enhancement: better documentation on usage
# 	 - enhancement: parameters treatment block code, for easier maintenance
# 	 - enhancement: debug mode review
# 	 - enhancement: arrays in option hash to avoid reformating in sub 
#      functions 
# 	 - enhancement: cleaning of unused blocks of code. might be reviewed 
#      in the future
# 	 - enhancement: added comments
# 	 - feature: added bits output feature for performance data
# 	 - enhancement: check_multi perfdata output type with interface name. 
#      Global and Port perfdata types
# 	 - enhancement: rewrite the plugin to follow the nagios plugin development 
#      guidelines:
# 	   * use of "use warnings"
# 	 - feature: pnp6 templates
# 	 - enhancement: separate history cleaning and dataset selection from bps 
#      calculation
#    - enhancement: restricted the html link generated as the pluging output 
#      to "[detail]", for better integration in third party tools such as 
#      nagstamon,...
#
# ========================================================================
